# ROADMAP ‚Äî –ü–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è –¥–ª—è AI-–∞–≥–µ–Ω—Ç–æ–≤

> **–û–±–Ω–æ–≤–ª–µ–Ω–æ:** 16.02.2026 (–ø–æ—Å–ª–µ Stage 7 Overhaul)
> **–¶–µ–ª—å:** –ü–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

---

## –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è

1. **–ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º** ‚Äî –ø—Ä–æ—á–∏—Ç–∞–π `AI_MEMORY.md` (—Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ)
2. **–í—ã–±–µ—Ä–∏ —ç—Ç–∞–ø** ‚Äî —Ä–∞–±–æ—Ç–∞–π –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É (Stage 5 ‚Üí 8 ‚Üí 9)
3. **–í–Ω—É—Ç—Ä–∏ —ç—Ç–∞–ø–∞** ‚Äî –∑–∞–¥–∞—á–∏ –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É (P0 ‚Üí P1 ‚Üí P2)
4. **–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è** ‚Äî –æ—Ç–º–µ—Ç—å `[x]` –∏ –æ–±–Ω–æ–≤–∏ `AI_MEMORY.md`

---

## –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (16.02.2026)

### ‚úÖ –ó–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ —ç—Ç–∞–ø—ã

- **Stage 1**: Skeleton & Live Data Stream
- **Stage 2**: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ (–∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤, –∫–æ–Ω—Ñ–∏–≥)
- **Stage 3**: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (PostgreSQL + Drizzle)
- **Stage 4**: AI-–ø–µ—Ä–µ–≤–æ–¥ (Cloudflare Workers AI)
- **Stage 7**: Simplify & Focus (—É–¥–∞–ª–µ–Ω—ã –¥–µ—Ç–∞–ª—å–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –ø–ª–∞—Ç–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏)

### üéØ –¢–µ–∫—É—â–∏–π —Ñ–æ–∫—É—Å: Stage 5 ‚Üí Deploy

---

## Stage 5: Production Deploy

> **–¶–µ–ª—å:** –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
> **–û—Ü–µ–Ω–∫–∞:** 6-10 —á–∞—Å–æ–≤
> **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** Stage 3 (–ë–î), Stage 4 (–ø–µ—Ä–µ–≤–æ–¥)

### P0 ‚Äî –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ

#### 5.1 Dockerfile –¥–ª—è production
- [ ] –°–æ–∑–¥–∞—Ç—å multi-stage `Dockerfile`:
  ```dockerfile
  FROM node:20-alpine AS deps
  FROM node:20-alpine AS builder
  FROM node:20-alpine AS runner
  ```
- [ ] –°–æ–∑–¥–∞—Ç—å `.dockerignore`
- [ ] –°–æ–∑–¥–∞—Ç—å `docker-compose.yml` (production):
  - app (SvelteKit)
  - postgres (PostgreSQL 16)
- [ ] Env: `NODE_ENV=production`, `DATABASE_URL`, `CRON_SECRET`

**–§–∞–π–ª—ã:**
- `Dockerfile` (–Ω–æ–≤—ã–π)
- `docker-compose.yml` (–Ω–æ–≤—ã–π)
- `.dockerignore` (–Ω–æ–≤—ã–π)

#### 5.2 –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—à–∏–±–æ–∫ (Sentry)
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `@sentry/sveltekit`
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –≤ `hooks.server.ts` –∏ `hooks.client.ts`
- [ ] Env: `SENTRY_DSN`, `PUBLIC_SENTRY_DSN`
- [ ] Source maps upload –≤ CI

**–§–∞–π–ª—ã:**
- `src/hooks.server.ts` (–æ–±–Ω–æ–≤–∏—Ç—å)
- `src/hooks.client.ts` (—Å–æ–∑–¥–∞—Ç—å)
- `package.json` (–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏)

#### 5.3 CI/CD Pipeline
- [ ] –°–æ–∑–¥–∞—Ç—å `.github/workflows/ci.yml`:
  - Lint: `npm run check`
  - Tests: `npm run test:run`
  - Build: `npm run build`
- [ ] –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –¥–µ–ø–ª–æ–π –≤ Cloudflare Workers/Pages

**–§–∞–π–ª—ã:**
- `.github/workflows/ci.yml` (–Ω–æ–≤—ã–π)

### P1 ‚Äî –í–∞–∂–Ω–æ

#### 5.4 –•–æ—Å—Ç–∏–Ω–≥ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
- [ ] –í—ã–±—Ä–∞—Ç—å: Cloudflare Workers/Pages –∏–ª–∏ VPS (Yandex Cloud)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å PostgreSQL (managed –∏–ª–∏ Docker)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å cron –¥–ª—è `/api/cron/fetch`:
  - Cloudflare Cron Triggers –∏–ª–∏
  - Systemd timer (VPS)

#### 5.5 –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `.env.example` –¥–ª—è production
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ env-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

---

## Stage 8: –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ –≤–µ–∫—Ç–æ—Ä–Ω—ã–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–∏

> **–¶–µ–ª—å:** –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π –∏–∑ —Ä–∞–∑–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
> **–û—Ü–µ–Ω–∫–∞:** 10-15 —á–∞—Å–æ–≤
> **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** Stage 3 (PostgreSQL)

### P0 ‚Äî –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ

#### 8.1 pgvector –¥–ª—è PostgreSQL
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ `pgvector` –≤ PostgreSQL
- [ ] –î–æ–±–∞–≤–∏—Ç—å –≤ —Å—Ö–µ–º—É –ë–î:
  ```sql
  ALTER TABLE articles ADD COLUMN embedding VECTOR(384);
  CREATE INDEX ON articles USING ivfflat (embedding vector_cosine_ops);
  ```
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `schema.ts` (Drizzle)

**–§–∞–π–ª—ã:**
- `src/lib/server/db/schema.ts` (–æ–±–Ω–æ–≤–∏—Ç—å)
- `drizzle/migrations/*.sql` (–Ω–æ–≤–∞—è –º–∏–≥—Ä–∞—Ü–∏—è)

#### 8.2 –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
- [ ] –í—ã–±—Ä–∞—Ç—å –º–æ–¥–µ–ª—å:
  - Cloudflare Workers AI: `@cf/baai/bge-small-en-v1.5`
  - Self-hosted: `sentence-transformers`
- [ ] –°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–∏—Å: `src/lib/server/services/embedding-service.ts`
- [ ] –ü—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —Å—Ç–∞—Ç—å–∏ ‚Üí –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å embedding –∏–∑ `title + snippet`

**–§–∞–π–ª—ã:**
- `src/lib/server/services/embedding-service.ts` (–Ω–æ–≤—ã–π)
- `src/lib/server/jobs/feed-fetcher.ts` (–æ–±–Ω–æ–≤–∏—Ç—å)

#### 8.3 –ü–æ–∏—Å–∫ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
- [ ] –ü—Ä–∏ –≤—Å—Ç–∞–≤–∫–µ –Ω–æ–≤–æ–π —Å—Ç–∞—Ç—å–∏:
  ```sql
  SELECT id, title, 1 - (embedding <=> $1) AS similarity
  FROM articles
  WHERE pub_date > NOW() - INTERVAL '48 hours'
  AND 1 - (embedding <=> $1) > 0.92
  ORDER BY similarity DESC LIMIT 5
  ```
- [ ] –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω –ø–æ—Ö–æ–∂–∏–π ‚Üí –ø—Ä–∏–≤—è–∑–∞—Ç—å –∫ –∫–ª–∞—Å—Ç–µ—Ä—É
- [ ] UI: "–¢–∞–∫–∂–µ –ø–∏—à—É—Ç: [–∏—Å—Ç–æ—á–Ω–∏–∫1], [–∏—Å—Ç–æ—á–Ω–∏–∫2]"

**–§–∞–π–ª—ã:**
- `src/lib/server/db/news-repository.ts` (–æ–±–Ω–æ–≤–∏—Ç—å)
- `src/lib/components/NewsCard.svelte` (–æ–±–Ω–æ–≤–∏—Ç—å –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–ª–∞—Å—Ç–µ—Ä–æ–≤)

### P1 ‚Äî –í–∞–∂–Ω–æ

#### 8.4 –†–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ
- [ ] –í—ã–±–∏—Ä–∞—Ç—å "–≥–ª–∞–≤–Ω—É—é" —Å—Ç–∞—Ç—å—é –ø–æ –∞–≤—Ç–æ—Ä–∏—Ç–µ—Ç–Ω–æ—Å—Ç–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞
- [ ] –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –∫–∞–∫ "–¢–∞–∫–∂–µ: HN, Reddit"

---

## Stage 9: –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏

> **–¶–µ–ª—å:** –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç, –∑–∞–∫–ª–∞–¥–∫–∏, —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
> **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** Stage 5 (–ø—Ä–æ–¥–∞–∫—à–µ–Ω), Stage 8 (—ç–º–±–µ–¥–¥–∏–Ω–≥–∏)

### P0 ‚Äî –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ

#### 9.1 –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (Supabase)
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Supabase Auth
- [ ] OAuth –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã: GitHub, Google
- [ ] 152-–§–ó: —Ö—Ä–∞–Ω–µ–Ω–∏–µ –ü–î –≤ –†–§ (Yandex Cloud PostgreSQL)

#### 9.2 –°—Ö–µ–º–∞ –ë–î
- [ ] –¢–∞–±–ª–∏—Ü—ã:
  ```sql
  CREATE TABLE users (id, email, name, avatar, created_at);
  CREATE TABLE bookmarks (user_id, article_id, created_at);
  CREATE TABLE read_history (user_id, article_id, read_at);
  CREATE TABLE user_preferences (user_id, settings JSONB);
  ```

#### 9.3 –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞—è –ª–µ–Ω—Ç–∞ "–î–ª—è —Ç–µ–±—è"
- [ ] –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ:
  - –ò—Å—Ç–æ—Ä–∏—è —á—Ç–µ–Ω–∏—è
  - –ó–∞–∫–ª–∞–¥–∫–∏
  - –°—Ö–æ–¥—Å—Ç–≤–æ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ (pgvector)
- [ ] UI: –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å "–í—Å–µ –Ω–æ–≤–æ—Å—Ç–∏" / "–î–ª—è –º–µ–Ω—è"

---

## Stage 10: PWA 2.0 –∏ –æ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º

> **–¶–µ–ª—å:** Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, —Ñ–æ–Ω–æ–≤–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
> **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** Stage 5 (–ø—Ä–æ–¥–∞–∫—à–µ–Ω), Stage 9 (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)

### P0

- [ ] –û–±–Ω–æ–≤–∏—Ç—å Service Worker:
  - Network-First –¥–ª—è HTML
  - Stale-While-Revalidate –¥–ª—è API
  - Offline fallback (`/offline`)
- [ ] IndexedDB –¥–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç–∞—Ç–µ–π
- [ ] Web Push API (VAPID –∫–ª—é—á–∏)
- [ ] Background Sync –¥–ª—è –∑–∞–∫–ª–∞–¥–æ–∫/–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω–æ–≥–æ

---

## Stage 11: E2E —Ç–µ—Å—Ç—ã (Playwright)

### P0
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Playwright
- [ ] –°—Ü–µ–Ω–∞—Ä–∏–∏:
  - –ó–∞–≥—Ä—É–∑–∫–∞ –≥–ª–∞–≤–Ω–æ–π
  - –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º—ã
  - –ú–æ–±–∏–ª—å–Ω—ã–π –≤–∏–¥
  - SEO (–º–µ—Ç–∞-—Ç–µ–≥–∏)

---

## –û—Ç–ª–æ–∂–µ–Ω–Ω—ã–µ —ç—Ç–∞–ø—ã (V2)

### Stage 12: –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã
- –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞: Ingestion, Intelligence (AI), API, Frontend
- Kubernetes + KEDA –¥–ª—è –∞–≤—Ç–æ—Å–∫–∞–ª–∏—Ä–æ–≤–∞–Ω–∏—è

### Stage 13: Flutter –º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- –ù–∞—Ç–∏–≤–Ω—ã–µ push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- Google Play / App Store

### Stage 14: –ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è
- Freemium ($5/–º–µ—Å –¥–ª—è Pro)
- B2B API –¥–æ—Å—Ç—É–ø

---

## –ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è AI-–∞–≥–µ–Ω—Ç–æ–≤

1. **–ü—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
   ```bash
   npm run check && npm run build && npm run test:run
   ```

2. **–ö–æ–º–º–∏—Ç—ã:** `feat:`, `fix:`, `refactor:`, `test:`, `chore:`

3. **–ù–µ –ª–æ–º–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ:** –ö–∞–∂–¥—ã–π —ç—Ç–∞–ø –¥–æ–ª–∂–µ–Ω —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å

4. **–û–±–Ω–æ–≤–ª—è—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é:** –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è ‚Üí –æ–±–Ω–æ–≤–∏—Ç—å `AI_MEMORY.md`

5. **TypeScript strict:** –ù–∏–∫–∞–∫–∏—Ö `any`

6. **Svelte 5 Runes:** `$state`, `$derived`, `$effect`

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 16.02.2026 (Stage 7 Overhaul)
