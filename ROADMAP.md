# ROADMAP ‚Äî –ü–æ—ç—Ç–∞–ø–Ω—ã–π –ø–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –¥–ª—è AI-–∞–≥–µ–Ω—Ç–æ–≤

> **–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 15.02.2026
> **–ò—Å—Ç–æ—á–Ω–∏–∫:** –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è vs `TECHNICAL_PLAN.md`
> **–¶–µ–ª—å:** –ü–æ—à–∞–≥–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è AI-–∞–≥–µ–Ω—Ç–æ–≤ (Claude, Codex, –∏ –¥—Ä.) –ø–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –æ—Å—Ç–∞–≤—à–µ–π—Å—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏.

---

## –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —ç—Ç–∏–º —Ñ–∞–π–ª–æ–º

1. **–ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã** ‚Äî –ø—Ä–æ—á–∏—Ç–∞–π `AI_MEMORY.md` (—Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å) –∏ —ç—Ç–æ—Ç —Ñ–∞–π–ª.
2. **–í—ã–±–µ—Ä–∏ —ç—Ç–∞–ø** ‚Äî —Ä–∞–±–æ—Ç–∞–π —Å—Ç—Ä–æ–≥–æ –ø–æ –ø–æ—Ä—è–¥–∫—É (Stage 2 ‚Üí 3 ‚Üí 4 ‚Üí ...).
3. **–í–Ω—É—Ç—Ä–∏ —ç—Ç–∞–ø–∞** ‚Äî –≤—ã–ø–æ–ª–Ω—è–π –∑–∞–¥–∞—á–∏ –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É (P0 ‚Üí P1 ‚Üí P2).
4. **–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏** ‚Äî –æ—Ç–º–µ—Ç—å `[x]` –≤ —ç—Ç–æ–º —Ñ–∞–π–ª–µ –∏ –æ–±–Ω–æ–≤–∏ `AI_MEMORY.md`.
5. **–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —ç—Ç–∞–ø–∞** ‚Äî –∑–∞–ø—Ä–æ—Å–∏ —Ä–µ–≤—å—é —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

---

## –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (15.02.2026)

- **Stage 1** ‚Äî –í—ã–ø–æ–ª–Ω–µ–Ω (RSS –∞–≥—Ä–µ–≥–∞—Ü–∏—è, UI, Masonry, Dark Mode)
- **Stage 1.5** ‚Äî –í—ã–ø–æ–ª–Ω–µ–Ω (Theme switcher, content:encoded, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è, 23+ —Ç–µ—Å—Ç–æ–≤)
- **–û—Ü–µ–Ω–∫–∞:** 6.4‚Äì8.2/10 (–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–≤—å—é)
- **MINOR_ISSUES.md:** –í—Å–µ –ø—É–Ω–∫—Ç—ã Stage 1 –∏ 1.5 ‚Äî –ì–æ—Ç–æ–≤–æ

### –¢–µ–∫—É—â–∞—è —Ñ–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–∫–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã)
```
src/
‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îú‚îÄ‚îÄ types.ts                    # NewsItem –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îÇ   ‚îú‚îÄ‚îÄ server/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ news-service.ts         # –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å (fetch + cache + parse)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ news-utils.ts           # –£—Ç–∏–ª–∏—Ç—ã (strip, normalize, extract)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ news-utils.test.ts      # 23+ unit-—Ç–µ—Å—Ç–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ components/
‚îÇ       ‚îú‚îÄ‚îÄ NewsCard.svelte          # –ö–∞—Ä—Ç–æ—á–∫–∞ –Ω–æ–≤–æ—Å—Ç–∏
‚îÇ       ‚îú‚îÄ‚îÄ MasonryGrid.svelte       # JS-based masonry layout
‚îÇ       ‚îî‚îÄ‚îÄ ThemeToggle.svelte       # –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ç–µ–º—ã
‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îú‚îÄ‚îÄ +page.svelte                 # –ì–ª–∞–≤–Ω–∞—è (–ª–µ–Ω—Ç–∞ –Ω–æ–≤–æ—Å—Ç–µ–π)
‚îÇ   ‚îú‚îÄ‚îÄ +page.server.ts              # Server load (fetchAllNews)
‚îÇ   ‚îú‚îÄ‚îÄ +layout.svelte               # Layout (Schema.org, meta)
‚îÇ   ‚îú‚îÄ‚îÄ +error.svelte                # Error page
‚îÇ   ‚îî‚îÄ‚îÄ news/[id]/
‚îÇ       ‚îú‚îÄ‚îÄ +page.svelte             # –î–µ—Ç–∞–ª—å –Ω–æ–≤–æ—Å—Ç–∏
‚îÇ       ‚îî‚îÄ‚îÄ +page.server.ts          # Server load (–¥–µ—Ç–∞–ª—å)
‚îú‚îÄ‚îÄ service-worker.ts                # SW (cache-first –¥–ª—è —Å—Ç–∞—Ç–∏–∫–∏)
‚îî‚îÄ‚îÄ app.d.ts                         # SvelteKit types
```

---

## Stage 2: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é

> **–¶–µ–ª—å:** –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –ë–î, AI –∏ –Ω–æ–≤—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤.
> **–û—Ü–µ–Ω–∫–∞ —Ç—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç:** 4‚Äì6 —á–∞—Å–æ–≤
> **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –ù–µ—Ç

### P0 ‚Äî –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ

#### 2.1 –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ news-service.ts ‚Äî –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- [ ] –°–æ–∑–¥–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `NewsSource` –≤ `src/lib/server/types.ts`:
  ```typescript
  interface NewsSource {
    name: string;
    type: 'rss' | 'api';
    fetch(fetchFn: typeof fetch): Promise<RawNewsItem[]>;
  }

  interface RawNewsItem {
    title: string;
    link: string;
    pubDate?: string;
    content?: string;
    contentSnippet?: string;
    enclosure?: { url: string };
    source: string;
  }
  ```
- [ ] –°–æ–∑–¥–∞—Ç—å `src/lib/server/sources/rss-source.ts` ‚Äî —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è `NewsSource` –¥–ª—è RSS
- [ ] –°–æ–∑–¥–∞—Ç—å `src/lib/server/sources/index.ts` ‚Äî —Ä–µ–µ—Å—Ç—Ä –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (—ç–∫—Å–ø–æ—Ä—Ç –º–∞—Å—Å–∏–≤–∞ `NewsSource[]`)
- [ ] –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å `news-service.ts` ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å pipeline:
  ```
  sources.map(s => s.fetch()) ‚Üí flatten ‚Üí transform ‚Üí filter ‚Üí sort ‚Üí cache
  ```
- [ ] –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ `FEEDS` –º–∞—Å—Å–∏–≤ –≤ `sources/rss-source.ts`
- [ ] –ü—Ä–æ–≥–Ω–∞—Ç—å —Ç–µ—Å—Ç—ã: `npm run test && npm run check && npm run build`

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `src/lib/server/news-service.ts` (—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥)
- `src/lib/server/types.ts` (–Ω–æ–≤—ã–π, –∏–ª–∏ —Ä–∞—Å—à–∏—Ä–∏—Ç—å `src/lib/types.ts`)
- `src/lib/server/sources/rss-source.ts` (–Ω–æ–≤—ã–π)
- `src/lib/server/sources/index.ts` (–Ω–æ–≤—ã–π)

#### 2.2 –í—ã–Ω–µ—Å—Ç–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤ env-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
- [ ] –°–æ–∑–¥–∞—Ç—å `.env.example` —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –≤—Å–µ—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- [ ] –ó–∞–º–µ–Ω–∏—Ç—å —Ö–∞—Ä–¥–∫–æ–¥ –≤ `news-service.ts`:
  - `RSS_TIMEOUT_MS` (—Å–µ–π—á–∞—Å 8000)
  - `CACHE_TTL_MS` (—Å–µ–π—á–∞—Å 5 * 60 * 1000)
  - `MAX_SNIPPET_LENGTH` (—Å–µ–π—á–∞—Å 200)
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `$env/static/private` –∏–ª–∏ `$env/dynamic/private`
- [ ] –î–æ–±–∞–≤–∏—Ç—å `.env` –≤ `.gitignore` (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —É–∂–µ –µ—Å—Ç—å)

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `src/lib/server/news-service.ts`
- `.env.example` (–Ω–æ–≤—ã–π)
- `.gitignore` (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å)

#### 2.3 CSP-–∑–∞–≥–æ–ª–æ–≤–∫–∏
- [ ] –°–æ–∑–¥–∞—Ç—å `src/hooks.server.ts` (–µ—Å–ª–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
- [ ] –î–æ–±–∞–≤–∏—Ç—å Content-Security-Policy —á–µ—Ä–µ–∑ `handle` hook:
  ```typescript
  // –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π CSP
  response.headers.set('Content-Security-Policy',
    "default-src 'self'; " +
    "script-src 'self' 'unsafe-inline'; " +  // unsafe-inline –¥–ª—è theme script
    "style-src 'self' 'unsafe-inline'; " +
    "img-src 'self' https: data:; " +
    "font-src 'self'; " +
    "connect-src 'self'"
  );
  ```
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ç–µ–º–∞ –∏ View Transitions —Ä–∞–±–æ—Ç–∞—é—Ç —Å CSP

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `src/hooks.server.ts` (–Ω–æ–≤—ã–π –∏–ª–∏ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è)

### P1 ‚Äî –í–∞–∂–Ω–æ

#### 2.4 Sitemap.xml
- [ ] –°–æ–∑–¥–∞—Ç—å `src/routes/sitemap.xml/+server.ts`
- [ ] –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å XML —Å–æ –≤—Å–µ–º–∏ —Ç–µ–∫—É—â–∏–º–∏ URL (/  –∏ /news/[id])
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ sitemap –≤ `static/robots.txt`

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `src/routes/sitemap.xml/+server.ts` (–Ω–æ–≤—ã–π)
- `static/robots.txt`

#### 2.5 Health-check endpoint
- [ ] –°–æ–∑–¥–∞—Ç—å `src/routes/api/health/+server.ts`
- [ ] –í–æ–∑–≤—Ä–∞—â–∞—Ç—å JSON: `{ status: 'ok', timestamp, feedsCount, cacheAge }`
- [ ] –í –±—É–¥—É—â–µ–º –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –ë–î

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `src/routes/api/health/+server.ts` (–Ω–æ–≤—ã–π)

### P2 ‚Äî –ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ

#### 2.6 –¢–µ—Å—Ç—ã –¥–ª—è news-service.ts
- [ ] –°–æ–∑–¥–∞—Ç—å `src/lib/server/news-service.test.ts`
- [ ] –ú–æ–∫–∞—Ç—å fetch –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è `fetchAllNews`
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å: —É—Å–ø–µ—à–Ω—ã–π fetch, —Ç–∞–π–º–∞—É—Ç, –ø—É—Å—Ç–æ–π —Ñ–∏–¥, –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ

#### 2.7 Canonical URLs –Ω–∞ –≥–ª–∞–≤–Ω–æ–π
- [ ] –î–æ–±–∞–≤–∏—Ç—å `<link rel="canonical">` –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ `+page.svelte`

---

## Stage 3: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (PostgreSQL)

> **–¶–µ–ª—å:** –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–µ–π, –æ—Ç–≤—è–∑–∫–∞ –æ—Ç in-memory –∫–µ—à–∞.
> **–û—Ü–µ–Ω–∫–∞ —Ç—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç:** 8‚Äì12 —á–∞—Å–æ–≤
> **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** Stage 2 (–∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤)

### P0 ‚Äî –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ

#### 3.1 –í—ã–±–æ—Ä –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ ORM/–∫–ª–∏–µ–Ω—Ç–∞
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `drizzle-orm` + `drizzle-kit` + `pg` (–∏–ª–∏ `postgres`)
  ```bash
  npm install drizzle-orm pg
  npm install -D drizzle-kit @types/pg
  ```
- [ ] –°–æ–∑–¥–∞—Ç—å `src/lib/server/db/index.ts` ‚Äî –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL
- [ ] –°–æ–∑–¥–∞—Ç—å `src/lib/server/db/schema.ts` ‚Äî —Å—Ö–µ–º–∞ —Ç–∞–±–ª–∏—Ü
- [ ] –°–æ–∑–¥–∞—Ç—å `drizzle.config.ts` ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –º–∏–≥—Ä–∞—Ü–∏–π
- [ ] –î–æ–±–∞–≤–∏—Ç—å env-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ: `DATABASE_URL`

#### 3.2 –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- [ ] –¢–∞–±–ª–∏—Ü–∞ `feed_sources`:
  ```sql
  id SERIAL PRIMARY KEY,
  name VARCHAR(100) NOT NULL,
  url TEXT NOT NULL UNIQUE,
  type VARCHAR(20) DEFAULT 'rss',  -- 'rss' | 'api' | 'reddit'
  language VARCHAR(10) DEFAULT 'ru',
  is_active BOOLEAN DEFAULT true,
  last_fetched_at TIMESTAMP,
  created_at TIMESTAMP DEFAULT NOW()
  ```
- [ ] –¢–∞–±–ª–∏—Ü–∞ `articles`:
  ```sql
  id VARCHAR(100) PRIMARY KEY,  -- buildNewsId() hash
  source_id INTEGER REFERENCES feed_sources(id),
  title TEXT NOT NULL,
  link TEXT NOT NULL UNIQUE,
  pub_date TIMESTAMP NOT NULL,
  content TEXT,
  content_snippet VARCHAR(500),
  image_url TEXT,
  language VARCHAR(10) DEFAULT 'en',
  -- –ø–æ–ª—è –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞ (Stage 4)
  translated_title TEXT,
  translated_snippet TEXT,
  is_translated BOOLEAN DEFAULT false,
  -- –º–µ—Ç–∞
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
  ```
- [ ] –¢–∞–±–ª–∏—Ü–∞ `fetch_logs`:
  ```sql
  id SERIAL PRIMARY KEY,
  source_id INTEGER REFERENCES feed_sources(id),
  fetched_at TIMESTAMP DEFAULT NOW(),
  items_count INTEGER DEFAULT 0,
  new_items_count INTEGER DEFAULT 0,
  error TEXT,
  duration_ms INTEGER
  ```

#### 3.3 Cron-—Å–±–æ—Ä—â–∏–∫ (–æ—Ç–≤—è–∑–∫–∞ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤)
- [ ] –°–æ–∑–¥–∞—Ç—å `src/lib/server/jobs/feed-fetcher.ts`:
  - –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ `NewsSource`-—ã –∏–∑ Stage 2
  - –î–ª—è –∫–∞–∂–¥–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞: fetch ‚Üí parse ‚Üí upsert –≤ –ë–î (INSERT ON CONFLICT DO NOTHING)
  - –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –≤ `fetch_logs`
- [ ] –°–æ–∑–¥–∞—Ç—å API-—ç–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è —Ç—Ä–∏–≥–≥–µ—Ä–∞: `src/routes/api/cron/fetch/+server.ts`
  - –ó–∞—â–∏—Ç–∏—Ç—å —Å–µ–∫—Ä–µ—Ç–Ω—ã–º —Ç–æ–∫–µ–Ω–æ–º (`CRON_SECRET` –∏–∑ env)
  - –í—ã–∑—ã–≤–∞—Ç—å `feedFetcher.run()`
- [ ] –î–ª—è dev-—Ä–µ–∂–∏–º–∞: –∑–∞–ø—É—Å–∫–∞—Ç—å –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é —á–µ—Ä–µ–∑ `node-cron` –∏–ª–∏ SvelteKit hooks

#### 3.4 –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–∞–Ω–Ω—ã—Ö
- [ ] –ò–∑–º–µ–Ω–∏—Ç—å `src/routes/+page.server.ts`:
  - –í–º–µ—Å—Ç–æ `fetchAllNews(fetch)` ‚Üí –∑–∞–ø—Ä–æ—Å –∫ –ë–î: `SELECT * FROM articles ORDER BY pub_date DESC LIMIT 50`
- [ ] –ò–∑–º–µ–Ω–∏—Ç—å `src/routes/news/[id]/+page.server.ts`:
  - –í–º–µ—Å—Ç–æ `fetchAllNews` + –ø–æ–∏—Å–∫ –ø–æ –º–∞—Å—Å–∏–≤—É ‚Üí `SELECT * FROM articles WHERE id = $1`
- [ ] –£–¥–∞–ª–∏—Ç—å in-memory –∫–µ—à –∏–∑ `news-service.ts` (–∏–ª–∏ –æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ fallback)

#### 3.5 Docker-compose –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- [ ] –°–æ–∑–¥–∞—Ç—å `docker-compose.dev.yml`:
  ```yaml
  services:
    postgres:
      image: postgres:16-alpine
      environment:
        POSTGRES_DB: technews
        POSTGRES_USER: technews
        POSTGRES_PASSWORD: dev_password
      ports:
        - "5432:5432"
      volumes:
        - pgdata:/var/lib/postgresql/data
  volumes:
    pgdata:
  ```
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Å–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –≤ `package.json`: `"db:push": "drizzle-kit push"`
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `README.md` —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ –ø–æ –∑–∞–ø—É—Å–∫—É

**–§–∞–π–ª—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è:**
- `src/lib/server/db/index.ts`
- `src/lib/server/db/schema.ts`
- `drizzle.config.ts`
- `src/lib/server/jobs/feed-fetcher.ts`
- `src/routes/api/cron/fetch/+server.ts`
- `docker-compose.dev.yml`

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `src/routes/+page.server.ts`
- `src/routes/news/[id]/+page.server.ts`
- `src/lib/server/news-service.ts`
- `package.json`
- `.env.example`

### P1 ‚Äî –í–∞–∂–Ω–æ

#### 3.6 –ú–∏–≥—Ä–∞—Ü–∏—è sitemap –Ω–∞ –ë–î
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `sitemap.xml/+server.ts` ‚Äî –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏–∑ —Ç–∞–±–ª–∏—Ü—ã `articles`

#### 3.7 –ü–∞–≥–∏–Ω–∞—Ü–∏—è
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–∞–≥–∏–Ω–∞—Ü–∏—é –Ω–∞ –≥–ª–∞–≤–Ω–æ–π (offset/limit –∏–ª–∏ cursor-based)
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å infinite scroll –∏–ª–∏ –∫–Ω–æ–ø–∫—É "–ó–∞–≥—Ä—É–∑–∏—Ç—å –µ—â—ë"

---

## Stage 4: AI-–æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (–ø–µ—Ä–µ–≤–æ–¥)

> **–¶–µ–ª—å:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–≤–æ–¥ EN‚ÜíRU –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –∏ —Å–Ω–∏–ø–ø–µ—Ç–æ–≤.
> **–û—Ü–µ–Ω–∫–∞ —Ç—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç:** 6‚Äì10 —á–∞—Å–æ–≤
> **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** Stage 3 (–ë–î –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤)
> **–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –î–ï–î–õ–ê–ô–ù:** 168-–§–ó –≤—Å—Ç—É–ø–∞–µ—Ç –≤ —Å–∏–ª—É 01.03.2026

### P0 ‚Äî –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ

#### 4.1 –°–µ—Ä–≤–∏—Å –ø–µ—Ä–µ–≤–æ–¥–∞
- [ ] –°–æ–∑–¥–∞—Ç—å `src/lib/server/services/translation-service.ts`:
  ```typescript
  interface TranslationService {
    translate(text: string, from: string, to: string): Promise<string>;
    translateBatch(texts: string[], from: string, to: string): Promise<string[]>;
  }
  ```
- [ ] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è #1: **Cloudflare Workers AI** (NLLB-200)
  - API: `https://api.cloudflare.com/client/v4/accounts/{account_id}/ai/run/@cf/meta/m2m100-1.2b`
  - Env: `CF_ACCOUNT_ID`, `CF_AI_TOKEN`
  - –ë–µ—Å–ø–ª–∞—Ç–Ω–æ: 10,000 –∑–∞–ø—Ä–æ—Å–æ–≤/–¥–µ–Ω—å
- [ ] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è #2 (fallback): **LibreTranslate** (self-hosted)
  - Env: `LIBRETRANSLATE_URL` (default: `http://localhost:5000`)
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫: –µ—Å–ª–∏ –ø–µ—Ä–µ–≤–æ–¥ –Ω–µ —É–¥–∞–ª—Å—è ‚Äî —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª, –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å, —Å—Ç–∞–≤–∏—Ç—å `is_translated = false`

#### 4.2 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø–µ—Ä–µ–≤–æ–¥–∞ –≤ pipeline
- [ ] –í `feed-fetcher.ts` –ø–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç—å–∏:
  - –ï—Å–ª–∏ `language != 'ru'` –∏ `is_translated == false`:
    - –ü–µ—Ä–µ–≤–µ—Å—Ç–∏ `title` ‚Üí `translated_title`
    - –ü–µ—Ä–µ–≤–µ—Å—Ç–∏ `content_snippet` ‚Üí `translated_snippet`
    - –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–ø–∏—Å—å: `is_translated = true`
- [ ] –î–æ–±–∞–≤–∏—Ç—å rate-limiting: –Ω–µ –±–æ–ª–µ–µ N –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –∑–∞ —Ü–∏–∫–ª (—á—Ç–æ–±—ã –Ω–µ –ø—Ä–µ–≤—ã—Å–∏—Ç—å –ª–∏–º–∏—Ç API)

#### 4.3 –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –≤ UI
- [ ] –í `+page.server.ts`: –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å `translated_title ?? title`, `translated_snippet ?? content_snippet`
- [ ] –í `NewsCard.svelte`: –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —è–∑—ã–∫–∞ (üá∑üá∫/üá¨üáß) –µ—Å–ª–∏ –ø–µ—Ä–µ–≤–æ–¥ –¥–æ—Å—Ç—É–ø–µ–Ω
- [ ] –ù–∞ –¥–µ—Ç–∞–ª—å–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ: –∫–Ω–æ–ø–∫–∞ "–ü–æ–∫–∞–∑–∞—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª" / "–ü–æ–∫–∞–∑–∞—Ç—å –ø–µ—Ä–µ–≤–æ–¥"

**–§–∞–π–ª—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è:**
- `src/lib/server/services/translation-service.ts`
- `src/lib/server/services/cf-translator.ts` (Cloudflare —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)
- `src/lib/server/services/libre-translator.ts` (LibreTranslate —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- `src/lib/server/jobs/feed-fetcher.ts`
- `src/lib/server/db/schema.ts` (–ø–æ–ª—è —É–∂–µ –∑–∞–ª–æ–∂–µ–Ω—ã –≤ Stage 3)
- `src/routes/+page.server.ts`
- `src/routes/news/[id]/+page.server.ts`
- `src/lib/components/NewsCard.svelte`
- `src/routes/news/[id]/+page.svelte`

### P1 ‚Äî –í–∞–∂–Ω–æ

#### 4.4 –ì–ª–æ—Å—Å–∞—Ä–∏–π —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤
- [ ] –°–æ–∑–¥–∞—Ç—å `src/lib/server/services/glossary.ts` ‚Äî —Å–ª–æ–≤–∞—Ä—å —Ç–µ—Ä–º–∏–Ω–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –ù–ï –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—å:
  - `JavaScript`, `TypeScript`, `React`, `Svelte`, `Kubernetes`, `Docker`, `API`, `CI/CD` –∏ —Ç.–¥.
- [ ] –ü–æ–¥—Å—Ç–∞–≤–ª—è—Ç—å –≤ –ø—Ä–æ–º–ø—Ç –ø–µ—Ä–µ–≤–æ–¥–∞: "–°–æ—Ö—Ä–∞–Ω–∏ —Å–ª–µ–¥—É—é—â–∏–µ —Ç–µ—Ä–º–∏–Ω—ã –±–µ–∑ –ø–µ—Ä–µ–≤–æ–¥–∞: ..."

#### 4.5 –¢–µ—Å—Ç—ã –ø–µ—Ä–µ–≤–æ–¥–∞
- [ ] –ú–æ–∫–∞—Ç—å API, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å: —É—Å–ø–µ—à–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥, –æ—à–∏–±–∫–∞ API, batch, –≥–ª–æ—Å—Å–∞—Ä–∏–π

---

## Stage 5: –î–µ–ø–ª–æ–π (Docker + Production)

> **–¶–µ–ª—å:** –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ.
> **–û—Ü–µ–Ω–∫–∞ —Ç—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç:** 4‚Äì8 —á–∞—Å–æ–≤
> **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** Stage 3 (–ë–î)

### P0 ‚Äî –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ

#### 5.1 Dockerfile
- [ ] –°–æ–∑–¥–∞—Ç—å `Dockerfile` (multi-stage):
  ```dockerfile
  # Stage 1: Dependencies
  FROM node:20-alpine AS deps
  WORKDIR /app
  COPY package*.json ./
  RUN npm ci --omit=dev

  # Stage 2: Build
  FROM node:20-alpine AS builder
  WORKDIR /app
  COPY . .
  COPY --from=deps /app/node_modules ./node_modules
  RUN npm run build

  # Stage 3: Runtime
  FROM node:20-alpine AS runner
  WORKDIR /app
  COPY --from=builder /app/build ./build
  COPY --from=deps /app/node_modules ./node_modules
  COPY package.json ./
  ENV NODE_ENV=production
  EXPOSE 3000
  CMD ["node", "build"]
  ```
- [ ] –°–æ–∑–¥–∞—Ç—å `.dockerignore`
- [ ] –°–æ–∑–¥–∞—Ç—å `docker-compose.yml` (production):
  ```yaml
  services:
    app:
      build: .
      ports: ["3000:3000"]
      env_file: .env
      depends_on: [postgres]
      restart: unless-stopped
    postgres:
      image: postgres:16-alpine
      volumes: [pgdata:/var/lib/postgresql/data]
      env_file: .env
      restart: unless-stopped
  volumes:
    pgdata:
  ```

#### 5.2 Sentry
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `@sentry/sveltekit`
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –≤ `hooks.server.ts` –∏ `hooks.client.ts`
- [ ] Env: `SENTRY_DSN`, `SENTRY_AUTH_TOKEN`

#### 5.3 CI/CD (GitHub Actions)
- [ ] –°–æ–∑–¥–∞—Ç—å `.github/workflows/ci.yml`:
  - Lint + Type check (`npm run check`)
  - Unit-—Ç–µ—Å—Ç—ã (`npm run test`)
  - Build (`npm run build`)
- [ ] –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –¥–µ–ø–ª–æ–π –ø–æ push –≤ main

### P1 ‚Äî –í–∞–∂–Ω–æ

#### 5.4 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Yandex Cloud / VPS
- [ ] –í—ã–±—Ä–∞—Ç—å —Ö–æ—Å—Ç–∏–Ω–≥ (Yandex Cloud Compute / VPS)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å reverse proxy (Caddy/Nginx) —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º HTTPS
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å cron –¥–ª—è `api/cron/fetch` (systemd timer –∏–ª–∏ crontab)

---

## Stage 6: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö

> **–¶–µ–ª—å:** –†–∞—Å—à–∏—Ä–∏—Ç—å –æ—Ö–≤–∞—Ç –Ω–æ–≤–æ—Å—Ç–µ–π.
> **–û—Ü–µ–Ω–∫–∞ —Ç—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç:** 4‚Äì6 —á–∞—Å–æ–≤ –Ω–∞ –∫–∞–∂–¥—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫
> **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** Stage 2 (–∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è NewsSource), Stage 3 (–ë–î)

### 6.1 NewsData.io API
- [ ] –°–æ–∑–¥–∞—Ç—å `src/lib/server/sources/newsdata-source.ts`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `NewsSource` –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- [ ] Env: `NEWSDATA_API_KEY`
- [ ] –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ª–∏–º–∏—Ç: 200 –∫—Ä–µ–¥–∏—Ç–æ–≤/–¥–µ–Ω—å
- [ ] –î–æ–±–∞–≤–∏—Ç—å –≤ —Ä–µ–µ—Å—Ç—Ä –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

### 6.2 Reddit API (r/programming, r/linux, r/machinelearning)
- [ ] –°–æ–∑–¥–∞—Ç—å `src/lib/server/sources/reddit-source.ts`
- [ ] OAuth2 –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (app-only)
- [ ] Env: `REDDIT_CLIENT_ID`, `REDDIT_CLIENT_SECRET`
- [ ] –§–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–æ score > N –¥–ª—è –∫–∞—á–µ—Å—Ç–≤–∞

### 6.3 GitHub Trending
- [ ] –°–æ–∑–¥–∞—Ç—å `src/lib/server/sources/github-source.ts`
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π API –∏–ª–∏ scraping `github.com/trending`
- [ ] –û—Ç–æ–±—Ä–∞–∂–∞—Ç—å –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é "Trending repos"

---

## Stage 7: AI-—Å—É–º–º–∞—Ä–∏–∑–∞—Ü–∏—è (Gemini 1.5 Flash)

> **–¶–µ–ª—å:** –ö—Ä–∞—Ç–∫–∏–µ —Å–∞–º–º–∞—Ä–∏ –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π.
> **–û—Ü–µ–Ω–∫–∞ —Ç—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç:** 6‚Äì10 —á–∞—Å–æ–≤
> **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** Stage 3 (–ë–î), Stage 4 (–ø–µ—Ä–µ–≤–æ–¥)

### 7.1 –°–µ—Ä–≤–∏—Å —Å—É–º–º–∞—Ä–∏–∑–∞—Ü–∏–∏
- [ ] –°–æ–∑–¥–∞—Ç—å `src/lib/server/services/summarization-service.ts`
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Google Gemini 1.5 Flash API
- [ ] Env: `GEMINI_API_KEY`
- [ ] –ü—Ä–æ–º–ø—Ç: "–°—É–º–º–∞—Ä–∏–∑–∏—Ä—É–π —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫—É—é –Ω–æ–≤–æ—Å—Ç—å –≤ 2-3 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ. –°–æ—Ö—Ä–∞–Ω–∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç–µ—Ä–º–∏–Ω—ã."

### 7.2 –°—Ö–µ–º–∞ –ë–î
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è –≤ `articles`:
  ```sql
  summary TEXT,
  is_summarized BOOLEAN DEFAULT false,
  summary_model VARCHAR(50)
  ```

### 7.3 UI
- [ ] –ù–∞ –∫–∞—Ä—Ç–æ—á–∫–µ: –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å summary –≤–º–µ—Å—Ç–æ snippet (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω)
- [ ] –ù–∞ –¥–µ—Ç–∞–ª—å–Ω–æ–π: —Ä–∞—Å–∫—Ä—ã–≤–∞–µ–º—ã–π –±–ª–æ–∫ "AI-—Å–∞–º–º–∞—Ä–∏"

---

## Stage 8: –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ —ç–º–±–µ–¥–¥–∏–Ω–≥–∏

> **–¶–µ–ª—å:** –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π –∏–∑ —Ä–∞–∑–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤.
> **–û—Ü–µ–Ω–∫–∞ —Ç—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç:** 8‚Äì12 —á–∞—Å–æ–≤
> **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** Stage 3 (PostgreSQL), Stage 7 (—Ç–µ–∫—Å—Ç –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è)

### 8.1 pgvector
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ `pgvector` –≤ PostgreSQL
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `embedding VECTOR(384)` –≤ `articles`
- [ ] –ò–Ω–¥–µ–∫—Å: `CREATE INDEX ON articles USING ivfflat (embedding vector_cosine_ops)`

### 8.2 –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Cloudflare Workers AI (–º–æ–¥–µ–ª—å `@cf/baai/bge-small-en-v1.5`) –∏–ª–∏ sentence-transformers
- [ ] –ü—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —Å—Ç–∞—Ç—å–∏ ‚Äî –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å embedding –∏–∑ `title + snippet`

### 8.3 –ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è
- [ ] –ü—Ä–∏ –≤—Å—Ç–∞–≤–∫–µ –Ω–æ–≤–æ–π —Å—Ç–∞—Ç—å–∏:
  ```sql
  SELECT id, title, 1 - (embedding <=> $1) AS similarity
  FROM articles
  WHERE pub_date > NOW() - INTERVAL '48 hours'
  AND 1 - (embedding <=> $1) > 0.92
  ORDER BY similarity DESC
  LIMIT 5
  ```
- [ ] –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω –ø–æ—Ö–æ–∂–∏–π –∫–ª–∞—Å—Ç–µ—Ä ‚Üí –ø—Ä–∏–≤—è–∑–∞—Ç—å –∫ –Ω–µ–º—É, –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ "–≥–ª–∞–≤–Ω—ã–π" –∏—Å—Ç–æ—á–Ω–∏–∫
- [ ] UI: "–¢–∞–∫–∂–µ –ø–∏—à—É—Ç: [–∏—Å—Ç–æ—á–Ω–∏–∫1], [–∏—Å—Ç–æ—á–Ω–∏–∫2]"

---

## Stage 9: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è

> **–¶–µ–ª—å:** –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç, –∑–∞–∫–ª–∞–¥–∫–∏, –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞—è –ª–µ–Ω—Ç–∞.
> **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** Stage 3 (–ë–î), Stage 5 (–ø—Ä–æ–¥–∞–∫—à–µ–Ω)

### 9.1 –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- [ ] Supabase Auth (–∏–ª–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å JWT)
- [ ] –°—Ç—Ä–∞—Ç–µ–≥–∏–∏: Email/Password, GitHub OAuth, Google OAuth
- [ ] 152-–§–ó: —Ö—Ä–∞–Ω–µ–Ω–∏–µ –ü–î –≤ –†–§ ‚Üí PostgreSQL –Ω–∞ —Ä–æ—Å—Å–∏–π—Å–∫–æ–º —Å–µ—Ä–≤–µ—Ä–µ

### 9.2 –¢–∞–±–ª–∏—Ü—ã
- [ ] `users` (id, email, name, avatar, created_at)
- [ ] `bookmarks` (user_id, article_id, created_at)
- [ ] `user_preferences` (user_id, preferred_sources, preferred_categories, language)
- [ ] `read_history` (user_id, article_id, read_at)

### 9.3 –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è
- [ ] –ê–ª–≥–æ—Ä–∏—Ç–º "–î–ª—è –≤–∞—Å" –Ω–∞ –æ—Å–Ω–æ–≤–µ:
  - –ò—Å—Ç–æ—Ä–∏–∏ —á—Ç–µ–Ω–∏—è
  - –ó–∞–∫–ª–∞–¥–æ–∫
  - –ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π –ø–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ pgvector: —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—Ö–æ–¥—Å—Ç–≤–∞ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π

---

## Stage 10: PWA 2.0 –∏ –º–æ–±–∏–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

> **–¶–µ–ª—å:** –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –æ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º, push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è.
> **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** Stage 5 (–ø—Ä–æ–¥–∞–∫—à–µ–Ω), Stage 9 (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –¥–ª—è push)

### 10.1 –û—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `service-worker.ts`:
  - Network-First –¥–ª—è HTML-—Å—Ç—Ä–∞–Ω–∏—Ü
  - Stale-While-Revalidate –¥–ª—è API-–æ—Ç–≤–µ—Ç–æ–≤
  - Offline fallback page (`/offline`)
- [ ] IndexedDB –¥–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç–∞—Ç–µ–π –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ

### 10.2 Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- [ ] Web Push API + VAPID –∫–ª—é—á–∏
- [ ] –¢–∞–±–ª–∏—Ü–∞ `push_subscriptions` (user_id, endpoint, keys, created_at)
- [ ] –û—Ç–ø—Ä–∞–≤–∫–∞ –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ "–≥–æ—Ä—è—á–µ–π" –Ω–æ–≤–æ—Å—Ç–∏ (score > –ø–æ—Ä–æ–≥–∞)
- [ ] Env: `VAPID_PUBLIC_KEY`, `VAPID_PRIVATE_KEY`

### 10.3 Background Sync
- [ ] –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∑–∞–∫–ª–∞–¥–æ–∫ –∏ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω–æ–≥–æ –ø—Ä–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å–≤—è–∑–∏

---

## Stage 11: E2E —Ç–µ—Å—Ç—ã (Playwright)

> **–¶–µ–ª—å:** –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤.
> **–ú–æ–∂–Ω–æ –Ω–∞—á–∞—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å –ª—é–±—ã–º —ç—Ç–∞–ø–æ–º –ø–æ—Å–ª–µ Stage 2**

### 11.1 –ù–∞—Å—Ç—Ä–æ–π–∫–∞
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Playwright: `npm init playwright@latest`
- [ ] –°–æ–∑–¥–∞—Ç—å `playwright.config.ts`
- [ ] –î–æ–±–∞–≤–∏—Ç—å –≤ CI pipeline

### 11.2 –°—Ü–µ–Ω–∞—Ä–∏–∏
- [ ] –ó–∞–≥—Ä—É–∑–∫–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–µ–∫
- [ ] –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –¥–µ—Ç–∞–ª—å–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
- [ ] –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º—ã (dark/light)
- [ ] –ú–æ–±–∏–ª—å–Ω—ã–π –≤–∏–¥ (responsive)
- [ ] SEO –ø—Ä–æ–≤–µ—Ä–∫–∏ (meta-—Ç–µ–≥–∏, Schema.org)
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ PWA (manifest, SW)

---

## Stage 12: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –Ω–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å

> **–¶–µ–ª—å:** Production-grade –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥.
> **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** Stage 5 (–ø—Ä–æ–¥–∞–∫—à–µ–Ω)

### 12.1 Sentry (–æ—à–∏–±–∫–∏)
- [ ] –£–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ Stage 5
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å source maps upload
- [ ] –ê–ª–µ—Ä—Ç—ã –≤ Telegram/Email

### 12.2 –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
- [ ] –ü—Ä–æ—Å—Ç–∞—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ (–∏–ª–∏ Plausible/Umami ‚Äî privacy-friendly)
- [ ] –ú–µ—Ç—Ä–∏–∫–∏: –ø—Ä–æ—Å–º–æ—Ç—Ä—ã, –∫–ª–∏–∫–∏, –∏—Å—Ç–æ—á–Ω–∏–∫–∏ —Ç—Ä–∞—Ñ–∏–∫–∞

### 12.3 –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- [ ] Uptime monitoring (Better Stack / UptimeRobot)
- [ ] Health-check endpoint –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- [ ] –ê–ª–µ—Ä—Ç –µ—Å–ª–∏ cron-—Å–±–æ—Ä—â–∏–∫ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç > 30 –º–∏–Ω—É—Ç

---

## –ü–æ–∑–¥–Ω–∏–µ —ç—Ç–∞–ø—ã (V2)

### Stage 13: –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã
- –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞: Ingestion, Intelligence (AI), API, Frontend
- Docker Compose ‚Üí Kubernetes (KEDA –¥–ª—è –∞–≤—Ç–æ—Å–∫–∞–ª–∏—Ä–æ–≤–∞–Ω–∏—è)
- Redis –¥–ª—è –æ—á–µ—Ä–µ–¥–µ–π –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏

### Stage 14: Flutter –º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- –ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å UI –Ω–∞ Dart/Flutter
- –ù–∞—Ç–∏–≤–Ω—ã–µ push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- –ü—É–±–ª–∏–∫–∞—Ü–∏—è –≤ Google Play / App Store

### Stage 15: –ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è
- Freemium –º–æ–¥–µ–ª—å ($5/–º–µ—Å –¥–ª—è Pro)
- B2B API (–¥–æ—Å—Ç—É–ø –∫ –æ—á–∏—â–µ–Ω–Ω–æ–π –ª–µ–Ω—Ç–µ)
- –°–ø–æ–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç

---

## –ú–∞—Ç—Ä–∏—Ü–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —ç—Ç–∞–ø–æ–≤

```
Stage 2 (–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚Üí Stage 3 (–ë–î) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚Üí Stage 4 (–ü–µ—Ä–µ–≤–æ–¥)
                             ‚îÇ                        ‚îú‚îÄ‚îÄ‚Üí Stage 6 (–ò—Å—Ç–æ—á–Ω–∏–∫–∏)
                             ‚îÇ                        ‚îú‚îÄ‚îÄ‚Üí Stage 7 (–°—É–º–º–∞—Ä–∏–∑–∞—Ü–∏—è)
                             ‚îÇ                        ‚îî‚îÄ‚îÄ‚Üí Stage 8 (–î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è)
                             ‚îÇ
                             ‚îî‚îÄ‚îÄ‚Üí Stage 5 (–î–µ–ø–ª–æ–π) ‚îÄ‚îÄ‚Üí Stage 9 (–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)
                                                      ‚îú‚îÄ‚îÄ‚Üí Stage 10 (PWA 2.0)
                                                      ‚îî‚îÄ‚îÄ‚Üí Stage 12 (–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥)

Stage 11 (E2E —Ç–µ—Å—Ç—ã) ‚Äî –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å –ª—é–±—ã–º –ø–æ—Å–ª–µ Stage 2
```

---

## –ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è AI-–∞–≥–µ–Ω—Ç–æ–≤

1. **–ü—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
   ```bash
   npm run check && npm run build && npm run test
   ```
2. **–ö–æ–º–º–∏—Ç—ã:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–µ—Ñ–∏–∫—Å—ã `feat:`, `fix:`, `refactor:`, `test:`, `chore:`
3. **–ù–µ –ª–æ–º–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ:** –ö–∞–∂–¥—ã–π —ç—Ç–∞–ø –¥–æ–ª–∂–µ–Ω —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
4. **–û–±–Ω–æ–≤–ª—è—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é:** –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —ç—Ç–∞–ø–∞ –æ–±–Ω–æ–≤–∏—Ç—å `AI_MEMORY.md` –∏ –æ—Ç–º–µ—Ç–∏—Ç—å `[x]` –≤ —ç—Ç–æ–º —Ñ–∞–π–ª–µ
5. **–ù–µ –ø—Ä–æ–ø—É—Å–∫–∞—Ç—å —ç—Ç–∞–ø—ã:** –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã (—Å–º. –º–∞—Ç—Ä–∏—Ü—É –≤—ã—à–µ)
6. **–Ø–∑—ã–∫:** –ö–æ–¥ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º, UI/–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏/–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞ —Ä—É—Å—Å–∫–æ–º
7. **Svelte 5 Runes:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `$state`, `$derived`, `$effect` –≤–º–µ—Å—Ç–æ stores
8. **TypeScript strict:** –ù–∏–∫–∞–∫–∏—Ö `any`, –ø–æ–ª–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è
